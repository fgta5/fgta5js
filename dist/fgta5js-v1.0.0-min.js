/*! fgta5js 1.0.0
* https://github.com/fgta5/fgta5js
* A simple component for FGTA5 framework
*
* Agung Nugroho DW
* https://github.com/agungdhewe
*
* build at 2025-06-17
*/
let e=0;class t{Id;Element;static get ICON_MENU(){return'<svg version="1.1" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n  <g stroke-linecap="square">\n\t<rect x="19.5" y="19.5" width="12" height="12" fill="currentColor"/>\n\t<rect x="2" y="20" width="12" height="12" fill="currentColor"/>\n\t<rect x="20" y="2" width="12" height="12" fill="currentColor"/>\n\t<rect x="2" y="2" width="12" height="12" fill="currentColor"/>\n  </g>\n</svg>'}static get ICON_CLOSE(){return'<svg version="1.1" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n  <g stroke="currentColor" stroke-linecap="round" stroke-width="5">\n\t<path d="M4 4 L28 28"/>\n\t<path d="M4 28 L28 4"/>\n  </g>\n</svg>'}static get ICON_BACK(){return'<svg version="1.1" viewBox="0 0 8.4667 8.4667" xmlns="http://www.w3.org/2000/svg">\n<path d="m5.5873 1.1684-2.515 3.0773 2.515 3.0773" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.3229"/>\n</svg>'}static get ICON_ACTION(){return'<svg version="1.1" viewBox="0 0 8.4667 8.4667" xmlns="http://www.w3.org/2000/svg">\n<path d="m3.4777 0.49839-1.3861 4.1094h1.945l-1.2743 3.3919 3.7782-4.663h-1.9226l1.252-2.8383z"/>\n</svg>'}static get ICON_USER(){return'<svg version="1.1" viewBox="0 0 8.4667 8.4667" xmlns="http://www.w3.org/2000/svg">\n<g stroke="#fff" fill="currentColor" stroke-linecap="round" stroke-width=".223">\n<path d="m4.2633 4.9935c-0.85356-0.0027456-2.0017 0.17383-2.3611 0.28348-0.35939 0.10964-0.71426 0.67396-0.71727 0.93517 0.62166 0.68677 2.0469 1.1278 3.0784 1.3222 1.0315-0.19439 2.4572-0.6354 3.0789-1.3222-0.0030132-0.26121-0.35788-0.82553-0.71727-0.93517-0.35939-0.10964-1.5081-0.28622-2.3616-0.28348z"/>\n<path d="m3.9018 5.7326-0.37517 1.8759 0.69032 0.57026 0.73534-0.55525-0.36016-1.8909z" stroke-linejoin="bevel"/>\n<rect x="3.8568" y="4.9072" width=".76535" height=".76535" stroke-linejoin="bevel"/>\n<circle cx="4.2238" cy="2.7633" r="2.0523"/>\n</g>\n</svg>'}static get ICON_LOGOUT(){return'<svg version="1.1" viewBox="0 0 8.4667 8.4667" xmlns="http://www.w3.org/2000/svg">\n<g stroke="currentColor" fill="currentColor" stroke-linecap="round" stroke-linejoin="bevel">\n<path d="m5.0725 0.70989h-4.3649v7.0783h4.3649z" fill="none" stroke-width=".423"/>\n<path d="m5.0725 0.70989-3.1237 2.5006 0.021392 4.5776h-1.2627l-2.6e-7 -7.0783z" stroke-width=".423"/>\n<path d="m3.1515 5.0723h3.4527v1.3606l1.3955-1.9759-1.3955-1.9759v1.3606h-3.4527z" stroke-width=".423"/>\n</g>\n</svg>'}static get ICON_SEARCH(){return'<svg version="1.1" viewBox="0 0 8.4667 8.4667" xmlns="http://www.w3.org/2000/svg">\n<g fill="none" stroke="currentColor" stroke-linecap="square">\n<circle cx="4.9312" cy="3.5669" r="2.7378" stroke-width=".66146"/>\n<path d="m1.1989 7.1728 0.88885-0.80617" stroke-width="1.3229"/>\n</g>\n</svg>'}static get ICON_SETTING(){return'<svg version="1.1" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n<g transform="matrix(.82343 0 0 .82343 4.0086 7.2155)" fill="currentColor" stroke-width="1.2144">\n<path d="m0 0h48v48h-48z" fill="none"/>\n<path d="m38.86 25.95c0.08-0.64 0.14-1.29 0.14-1.95s-0.06-1.31-0.14-1.95l4.23-3.31c0.38-0.3 0.49-0.84 0.24-1.28l-4-6.93c-0.25-0.43-0.77-0.61-1.22-0.43l-4.98 2.01c-1.03-0.79-2.16-1.46-3.38-1.97l-0.75-5.3c-0.09-0.47-0.5-0.84-1-0.84h-8c-0.5 0-0.91 0.37-0.99 0.84l-0.75 5.3c-1.22 0.51-2.35 1.17-3.38 1.97l-4.98-2.01c-0.45-0.17-0.97 0-1.22 0.43l-4 6.93c-0.25 0.43-0.14 0.97 0.24 1.28l4.22 3.31c-0.08 0.64-0.14 1.29-0.14 1.95s0.06 1.31 0.14 1.95l-4.22 3.31c-0.38 0.3-0.49 0.84-0.24 1.28l4 6.93c0.25 0.43 0.77 0.61 1.22 0.43l4.98-2.01c1.03 0.79 2.16 1.46 3.38 1.97l0.75 5.3c0.08 0.47 0.49 0.84 0.99 0.84h8c0.5 0 0.91-0.37 0.99-0.84l0.75-5.3c1.22-0.51 2.35-1.17 3.38-1.97l4.98 2.01c0.45 0.17 0.97 0 1.22-0.43l4-6.93c0.25-0.43 0.14-0.97-0.24-1.28zm-14.86 5.05c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>\n</g>\n</svg>'}static get ICON_HOME(){return'<svg version="1.1" viewBox="0 0 8.4667 8.4667" xmlns="http://www.w3.org/2000/svg">\n<g fill="currentColor">\n<rect x="4.2337" y="3.9367" width="3.0541" height="4.063"/>\n<rect x="1.2121" y="3.9367" width=".9332" height="4.0184"/>\n<path d="m4.2479 1.0276 3.7518 3.4383-7.5035-1e-7z"/>\n<rect x="1.6787" y="3.9367" width="3.2135" height="1.4646"/>\n</g>'}static get ACTION_SHOWMENU(){return"showmenu"}static get ACTION_SHOWHOME(){return"showhome"}static get ACTION_APPLICATIONLOADED(){return"applicationloaded"}constructor(e){null!=e&&(this.Id=e,this.Element=document.getElementById(e))}CreateSvgButton(e,t,n){return function(e,t,n,r){const a=document.createElement("a");a.innerHTML=t,a.classList.add(n),a.setAttribute("href","javascript:void(0)"),"function"==typeof r&&a.addEventListener("click",(e=>{r(e)}));return a}(0,e,t,n)}static GenerateId(){return"comp-"+ ++e}static Sleep(e){return new Promise((t=>setTimeout(t,e)))}}class n extends t{constructor(e){super(e),function(e){const t=document.createElement("div"),n=document.createElement("input");n.setAttribute("type","hidden"),n.classList.add("fgta5-entry-lastvalue"),t.classList.add("fgta5-entry-container"),e.InitialValue="",e.Element.getInputCaption=()=>e.Id,e.Listener=new EventTarget,e.Nodes={Input:e.Element,Container:t,LastValue:n}}(this),this._readValidators()}get Type(){return this.constructor.name}get Value(){return this.Element.value}set Value(e){this.Element.value=e}get Disabled(){return this.Element.disabled}set Disabled(e){this.Element.disabled=e}#e;get Form(){return this.#e}bindForm(e){this.#e=e}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e}#n={};get InvalidMessages(){return this.#n}_readValidators(){let e=this.Element;var t="invalid-message";Array.from(e.attributes).forEach((e=>{if(e.name.startsWith(t)){var n=e.name===t?"default":e.name.replace(`${t}-`,"");this.#n[n]=e.value}})),i(this)}NewData(e){!function(e,t){e.Value=t,e.AcceptChanges()}(this,e)}AcceptChanges(){var e;(e=this)._setLastValue(e.Nodes.Input.value),e.Nodes.Input.removeAttribute("changed"),e.SetError(null)}Reset(){var e;(e=this).Nodes.Input.value=e.Nodes.LastValue.value,e.AcceptChanges()}IsChanged(){return(e=this).Nodes.LastValue.value!=e.Nodes.Input.value;var e}SetError(e){!function(e,t){var n=e.Nodes.Container.querySelector(".fgta5-entry-error");null!==t&&""!==t?(e.Nodes.Input.setAttribute("invalid","true"),n||((n=document.createElement("div")).classList.add("fgta5-entry-error"),e.Nodes.Container.insertBefore(n,e.Nodes.InputWrapper.nextSibling)),n.innerHTML=t):(e.Nodes.Input.removeAttribute("invalid"),n&&n.remove())}(this,e)}_setLastValue(e){!function(e,t){e.Nodes.LastValue.value=t}(this,e)}GetLastValue(){return this.Nodes.LastValue.value}GetBindingData(){var e=this.Element.getAttribute("binding");return null===e?null:e}Validate(){return function(e){const t="required";if(null!=e.Validators[t]){if(null!=(n=r(e,t)))return e.SetError(n.message),!1}for(const a in e.Validators){var n;if(a!=t)if(null!=(n=r(e,a)))return e.SetError(n.message),!1}return e.SetError(null),!0}(this)}#r={};get Validators(){return this.#r}AddValidator(e,t,n){this.#r[e]={param:t,message:n}}RemoveValidator(e){void 0!==this.#r[e]&&delete this.#r[e]}ClearValidators(){this.#r={}}ReadValidators(){i(this)}_setupDescription(){var e=this.Element.getAttribute("description");if(null!==e&&""!==e.trim()){e=e.trim();const t=document.createElement("div");t.classList.add("fgta5-entry-description"),t.innerHTML=e,this.Nodes.Container.appendChild(t)}}#a=!1;IsRequired(){return this.#a}MarkAsRequired(e){this.#a=e,function(e,t){var n="required",r=e.Nodes.Label;null!=r&&null!=r&&(t?(e.Nodes.Label.setAttribute(n,""),e.Nodes.Input.setAttribute(n,""),e.AddValidator(n,null,e.InvalidMessages[n])):(e.Nodes.Label.removeAttribute(n),e.Nodes.Input.removeAttribute(n),e.RemoveValidator(n)))}(this,e)}addEventListener(e,t){this.Listener.addEventListener(e,t)}#i={};get Handlers(){return this.#i}Handle(e,t){this.#i[e]=t}}function r(e,t){const n=e.Validators[t],r=$validators[t],a=n.param,i=n.message,s=e.Nodes.Input;try{var o;if("function"!=typeof r)throw new Error(`Validator function '${t}' is not defined or not a function`);if(!r(s.value,a)){var d=e.InvalidMessages.default;throw null!=i?new Error(i):null!=d?new Error(d):new Error(`Invalid value '${s.value}' for '${s.getInputCaption()}' using validator '${t}(${a??""})'`)}return null}catch(o){return o}}function a(e){e.setHours(0),e.setMinutes(0),e.setSeconds(0)}function i(e){const t=e.Nodes.Input.getAttribute("fgta5-component");var n="";n="minlength";var r=e.Nodes.Input.getAttribute(n);null!=r&&(r=parseInt(r),isNaN(r)||e.AddValidator(n,r,e.InvalidMessages[n])),n="maxlength";var i=e.Nodes.Input.getAttribute(n);null!=i&&(i=parseInt(i),isNaN(i)||e.AddValidator(n,i,e.InvalidMessages[n])),n="pattern";var s=e.Nodes.Input.getAttribute(n);null!=s&&""!==s.trim()&&e.AddValidator("pattern",s,e.InvalidMessages[n]),n="min";var o=e.Nodes.Input.getAttribute(n);if(null!=o){var d=e.InvalidMessages[n];if("Datepicker"==t){var l=new Date(o);a(l),e.AddValidator("mindate",l,d)}else if("Timepicker"==t){var u=o;e.AddValidator("mintime",u,d)}else o=parseInt(o),isNaN(o)||e.AddValidator(n,o,d)}n="max";var c=e.Nodes.Input.getAttribute(n);if(null!=c){d=e.InvalidMessages[n];if("Datepicker"==t){var p=new Date(c);a(p),e.AddValidator("maxdate",p,d)}else if("Timepicker"==t){var m=c;e.AddValidator("maxtime",m,d)}else c=parseInt(c),isNaN(c)||e.AddValidator(n,c,d)}var v=e.Nodes.Input.getAttribute("validator");if(null!=v&&""!==v.trim()){v=v.split(",");for(var h=0;h<v.length;h++){var g=v[h].trim(),{fnName:f,fnParams:b}=$fgta5.Validators.parseFunctionParam(g);e.AddValidator(f,b,e.InvalidMessages[f])}}}class s extends n{constructor(e){super(e),function(e,t){const n=e.Nodes.Container,r=e.Nodes.LastValue,a=e.Nodes.Input,i=document.createElement("div"),s=document.querySelector(`label[for="${t}"]`);a.parentNode.insertBefore(n,a),i.appendChild(a),n.appendChild(i),n.appendChild(r),e.Nodes.InputWrapper=i,e.Nodes.Label=s,n.setAttribute("fgta5-component","Textbox"),n.setAttribute("input-id",t),i.classList.add("fgta5-entry-input-wrapper"),a.classList.add("fgta5-entry-input"),a.getInputCaption=()=>s.innerHTML,null!=s&&s.classList.add("fgta5-entry-label");e._setLastValue(e.Value),e._setupDescription(),""!==a.style.backgroundColor&&(i.style.backgroundColor=a.style.backgroundColor,a.style.backgroundColor="transparent");var o=a.getAttribute("character-case");null!==o&&""!==o.trim()&&(a.charCase=o.trim().toLowerCase());var d=a.getAttribute("required");null!=d&&e.MarkAsRequired(!0);a.addEventListener("input",(t=>{e.GetLastValue()!=e.Value?a.setAttribute("changed","true"):a.removeAttribute("changed"),e.Listener.dispatchEvent(new CustomEvent("input",{}))})),a.addEventListener("blur",(t=>{!function(e){e.InEditMode&&(e.SetError(null),e.Validate())}(e),e.Listener.dispatchEvent(new CustomEvent("blur",{}))})),a.addEventListener("keydown",(t=>{const n=(r={cancelable:!0,key:t.key,code:t.code,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,srcElement:t.srcElement,target:t.target},new KeyboardEvent("keydown",r));var r;e.Listener.dispatchEvent(n),n.defaultPrevented&&t.preventDefault()}))}(this,e)}get Value(){return t=(e=this).Nodes.Input,o(e,t.value);var e,t}set Value(e){!function(e,t){null==t&&(t="");e.Element.value=o(e,t)}(this,e)}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e,function(e,t){var n=t?"true":"false";e.Nodes.Input.setAttribute("editmode",n),e.Nodes.InputWrapper.setAttribute("editmode",n),t?e.Nodes.Input.removeAttribute("readonly"):(e.Nodes.Input.setAttribute("readonly","true"),e.SetError(null))}(this,e)}NewData(e){super.NewData(e)}GetLastValue(){return t=(e=this).Nodes.LastValue.value,o(e,t);var e,t}IsChanged(){return t=(e=this).GetLastValue(),e.Value!=t;var e,t}}function o(e,t){var n=t,r=e.Nodes.Input;return"uppercase"===r.charCase?n=t.toUpperCase():"lowercase"===r.charCase&&(n=t.toLowerCase()),n}const d=e=>new CustomEvent("change",e);class l extends n{constructor(e){super(e),this.formatterFixed=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),function(e,t){const n=e.Nodes.Container,r=e.Nodes.LastValue,a=e.Nodes.Input,i=document.createElement("div"),s=document.createElement("input"),o=document.querySelector(`label[for="${t}"]`);a.parentNode.insertBefore(n,a),i.appendChild(s),i.appendChild(a),n.appendChild(i),n.appendChild(r),e.Nodes.InputWrapper=i,e.Nodes.Label=o,e.Nodes.Display=s,n.setAttribute("fgta5-component","Numberbox"),i.classList.add("fgta5-entry-input-wrapper");var{precision:l,step:u}=function(e){null!==e&&""!==e.trim()?(e=parseInt(e.trim()),(isNaN(e)||e<0)&&(e=0)):e=0;var t=Math.pow(10,-e);return{precision:e,step:t}}(e.Element.getAttribute("precision"));e.formatterFixed.minimumFractionDigits=l,e.formatterFixed.maximumFractionDigits=l,a.classList.add("fgta5-entry-input"),a.maxlength=a.getAttribute("maxlength"),a.precision=l,a.setAttribute("type","hidden"),a.setAttribute("step",u),a.getInputCaption=()=>o.innerHTML,s.id=e.Id+"-display",s.min=a.min,s.max=a.max,s.maxlength=a.maxlength,s.required=a.required,s.value=e.formatterFixed.format(a.value),s.classList.add("fgta5-entry-display"),s.setAttribute("precision",l),s.setAttribute("step",u),s.setAttribute("style",a.getAttribute("style")||""),s.setAttribute("type","text"),s.setAttribute("fgta5-component","Numberbox"),o.setAttribute("for",s.id),o.classList.add("fgta5-entry-label");var c=a.getAttribute("required");null!=c&&e.MarkAsRequired(!0);null!==a.value&&""!==a.value||(a.value=0);e._setLastValue(a.value),e._setupDescription(),s.addEventListener("focus",(t=>{!function(e){var t=e.Nodes.Display,n=e.Nodes.Input;if(e.InEditMode){t.setAttribute("type","number");var r=Number(n.value);t.value=r}}(e)})),s.addEventListener("blur",(t=>{!function(e){var t=e.Nodes.Display,n=e.Nodes.Input;if(e.InEditMode){var r=Number(t.value);if(isNaN(r))e.Listener.dispatchEvent(d({detail:{invalid:!0}})),e.SetError("Invalid number");else{e.SetError(null),n.value=r;var a=!e.Validate(),i=e.formatterFixed.format(r);t.setAttribute("type","text"),t.value=i,e.Listener.dispatchEvent(d({detail:{invalid:a,value:r,formatted:i}}))}}}(e)})),s.addEventListener("input",(e=>{s.value!==r.value?s.setAttribute("changed","true"):s.removeAttribute("changed")})),s.addEventListener("keydown",(e=>{"number"!==s.type||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault()}));var p=s.maxlength;null!==p&&""!==p.trim()&&(p=parseInt(p.trim()),!isNaN(p)&&p>0&&s.addEventListener("beforeinput",(e=>{e.target.value.length>=p&&"deleteContentBackward"!==e.inputType&&"deleteContentForward"!==e.inputType&&e.preventDefault()})))}(this,e)}get Value(){return Number(this.Nodes.Input.value)}set Value(e){!function(e,t){e.Nodes.Input.value=t,isNaN(t)&&(t=Number(t));var n=e.formatterFixed.format(t);"text"===e.Nodes.Display.type?e.Nodes.Display.value=n:e.Nodes.Display.value=num;!function(e){var t=e.Nodes.Input,n=e.Nodes.Display;e.Value!=e.GetLastValue()?(t.setAttribute("changed","true"),n.setAttribute("changed","true")):(t.removeAttribute("changed"),n.removeAttribute("changed"))}(e)}(this,e)}get Disabled(){return this.Element.disabled}set Disabled(e){this.Element.disabled=e,function(e,t){e.Nodes.Display.disabled=!!t}(this,e)}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e,function(e,t){var n=t?"true":"false";e.Nodes.Display.setAttribute("editmode",n),e.Nodes.Input.setAttribute("editmode",n),e.Nodes.InputWrapper.setAttribute("editmode",n),t?(e.Nodes.Input.removeAttribute("readonly"),e.Nodes.Display.removeAttribute("readonly")):(e.Nodes.Input.setAttribute("readonly","true"),e.Nodes.Display.setAttribute("readonly","true"),e.SetError(null))}(this,e)}NewData(e){null==e&&(e=0),super.NewData(e)}AcceptChanges(){super.AcceptChanges(),this.Nodes.Display.removeAttribute("changed")}Reset(){var e;super.Reset(),(e=this).Value=e.GetLastValue()}SetError(e){super.SetError(e),function(e,t){var n=e.Nodes.Display;null!==t&&""!==t?n.setAttribute("invalid","true"):n.removeAttribute("invalid")}(this,e)}GetLastValue(){return Number(this.Nodes.LastValue.value)}}class u extends n{constructor(e){super(e),function(e,t){const n=e.Nodes.Container,r=e.Nodes.LastValue,a=e.Nodes.Input,i=document.querySelector(`label[for="${t}"]`),s=document.createElement("label");a.parentNode.insertBefore(n,a),s.appendChild(a),s.appendChild(document.createTextNode(i.innerHTML)),n.appendChild(s),n.appendChild(r),e.Nodes.Label=i,n.setAttribute("fgta5-component","Checkbox"),a.classList.add("fgta5-checkbox-input"),s.classList.add("fgta5-checkbox");var o=document.createElement("div");o.innerHTML="&nbsp",o.style.display="inline-block",o.setAttribute("label",""),i.parentNode.replaceChild(o,i),e._setLastValue(e.Element.checked),a.addEventListener("change",(t=>{!function(e){var t=e.Nodes.Input;t.value=t.checked?1:0,e.GetLastValue()!=e.Value?t.setAttribute("changed","true"):t.removeAttribute("changed");t.checked?e.Listener.dispatchEvent(new CustomEvent("checked",{})):e.Listener.dispatchEvent((e=>new CustomEvent("unchecked",e))({}))}(e)}))}(this,e)}get Value(){return this.Element.checked}set Value(e){!function(e,t){var n=e.Nodes.Input,r=c(t);n.checked=r,n.value=r?1:0;!function(e){var t=e.Nodes.Input;e.Value!=e.GetLastValue()?t.setAttribute("changed","true"):t.removeAttribute("changed")}(e)}(this,e)}get Disabled(){return function(e){var t=e.Nodes.Input.getAttribute("permanent-disabled");if(null===t)return!1;if("true"===t)return!0;return!1}(this)}set Disabled(e){this.Element.disabled=e,function(e,t){var n=e.Nodes.Input,r=n.getAttribute("editmode"),a=null!=r&&""!=r&&"false"!=r;t?(n.setAttribute("permanent-disabled","true"),n.parentNode.setAttribute("permanent-disabled","true")):(n.removeAttribute("permanent-disabled"),n.parentNode.removeAttribute("permanent-disabled"),a||(n.disabled=!0))}(this,e)}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e,function(e,t){var n=e.Nodes.Input,r=t?"true":"false",a=n.getAttribute("permanent-disabled"),i=null!=a&&""!=a&&"false"!=a;n.setAttribute("editmode",r),t?i?n.setAttribute("disabled","true"):n.removeAttribute("disabled"):n.setAttribute("disabled","true")}(this,e)}NewData(e){super.NewData(e),function(e,t){var n=c(t);e.Value=n,e._setLastValue(n)}(this,e)}GetLastValue(){return c(this.Nodes.LastValue.value)}IsChanged(){return t=(e=this).GetLastValue(),e.Value!=t;var e,t}Reset(){var e,t;t=(e=this).GetLastValue(),e.Value=t,e._setLastValue(t)}_setLastValue(e){!function(e,t){var n=1;"off"!==t&&"0"!==t&&0!==t&&!1!==t||(n=0);e.Nodes.LastValue.value=n}(this,e)}}function c(e){return 0!==e&&"0"!==e&&!1!==e&&void 0!==e}const p='<svg transform="translate(0 3)" width="12" height="12" stroke="currentColor" stroke-linecap="round" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n\t\t<rect x="1.3095" y="6.6682" width="21.393" height="1.8579" fill="none" stroke-width="2"/>\n\t\t<rect x=".81949" y="10" width="22.341" height="13.251" fill="none" stroke-width="1.02"/>\n\t\t<rect x="3.8664" y="1.1531" width="2.5776" height="1.4923" fill="none" stroke-width="2"/>\n\t\t<rect x="17.223" y="1.1203" width="2.5776" height="1.6958" fill="none" stroke-width="2"/>\n\t\t<path d="m1.2888 16.278 21.367-0.13566" fill="none" stroke-width="1.02"/>\n\t\t<path d="m8.2775 10.07-0.13566 12.888" fill="none" stroke-width="1.02"/>\n\t\t<path d="m15.799 9.9671-0.13566 12.888" fill="none" stroke-width="1.02"/>\n\t\t</svg>';class m extends n{constructor(e){super(e),function(e,t){const n=e.Nodes.Container,r=e.Nodes.LastValue,a=e.Nodes.Input,i=document.createElement("div"),s=document.createElement("input"),o=document.createElement("button"),d=document.querySelector(`label[for="${t}"]`);a.parentNode.insertBefore(n,a),i.appendChild(s),i.appendChild(o),o.appendChild(a),n.appendChild(i),n.appendChild(r),e.Nodes.InputWrapper=i,e.Nodes.Label=d,e.Nodes.Display=s,e.Nodes.Button=o,n.setAttribute("fgta5-component","Datepicker"),i.classList.add("fgta5-entry-input-wrapper"),s.setAttribute("id",`${t}-display`),s.setAttribute("type","text"),s.setAttribute("fgta5-component","Datepicker"),s.setAttribute("readonly","true"),s.classList.add("fgta5-entry-display"),s.classList.add("fgta5-entry-display-datepicker");var l=a.getAttribute("placeholder");null!=l&&""!=l&&s.setAttribute("placeholder",l);var u=a.getAttribute("class");null!=u&&""!=u&&s.setAttribute("class",u);var c=a.getAttribute("style");null!=c&&""!=c&&s.setAttribute("style",c);a.setAttribute("type","date"),a.removeAttribute("class"),a.removeAttribute("style"),a.classList.add("fgta5-entry-input"),a.classList.add("fgta5-entry-input-datepicker"),a.getInputCaption=()=>d.innerHTML,o.id=e.Id+"-button",o.insertAdjacentHTML("beforeend",p),o.classList.add("fgta5-entry-button-datepicker"),d.setAttribute("for",o.id),d.classList.add("fgta5-entry-label");var m=a.getAttribute("required");null!=m&&e.MarkAsRequired(!0);null!=a.value&&""!=a.value&&(e.Value=a.value,e._setLastValue(a.value),e.AcceptChanges());e._setupDescription(),a.addEventListener("change",(t=>{!function(e){var t=e.Nodes.Input;h(e,t.value),v(e),e.InEditMode&&(e.SetError(null),e.Validate())}(e)}))}(this,e)}get Value(){return""==(n=this).Nodes.Input.value?null:("string"==typeof(e=n.Nodes.Input.value)?t=new Date(e):e instanceof Date&&(t=e),t.toISOString().split("T")[0]);var e,t,n}set Value(e){var t,n;n=e,(t=this).Nodes.Input.value=n,h(t,n),v(t)}get Min(){return""!=this.Element.min?new Date(this.Element.min):null}set Min(e){e instanceof Date?this.Element.min=e.toISOString().split("T")[0]:"string"==typeof e&&(this.Element.min=e)}get Max(){return""!=this.Element.max?new Date(this.Element.max):null}set Max(e){e instanceof Date?this.Element.max=e.toISOString().split("T")[0]:"string"==typeof e&&(this.Element.max=e)}get Disabled(){return this.Element.disabled}set Disabled(e){this.Element.disabled=e,function(e,t){var n=e.Nodes.Display,r=e.Nodes.InputWrapper,a=e.Nodes.Button;t?(n.disabled=!0,r.setAttribute("disabled","true"),a.setAttribute("disabled","true")):(n.disabled=!1,r.removeAttribute("disabled"),a.removeAttribute("disabled"))}(this,e)}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e,function(e,t){var n=t?"true":"false",r=e.Nodes.Input,a=e.Nodes.Display,i=e.Nodes.InputWrapper;a.setAttribute("editmode",n),r.setAttribute("editmode",n),i.setAttribute("editmode",n),t?r.removeAttribute("readonly"):(r.setAttribute("readonly","true"),e.SetError(null))}(this,e)}NewData(e){null==e&&(e=""),super.NewData(e)}AcceptChanges(){super.AcceptChanges(),this.Nodes.Display.removeAttribute("changed")}Reset(){var e,t;super.Reset(),t=(e=this).GetLastValue(),e.Value=null==t?"":t}SetError(e){super.SetError(e),function(e,t){var n=e.Nodes.Display;null!==t&&""!==t?n.setAttribute("invalid","true"):n.removeAttribute("invalid")}(this,e)}GetLastValue(){return""==(e=this.Nodes.LastValue.value)?null:e;var e}}function v(e){var t=e.Nodes.Display;e.Value!=e.GetLastValue()?t.setAttribute("changed","true"):t.removeAttribute("changed")}function h(e,t){var n=e.Nodes.Display;if(""==t)n.value="";else{const e={day:"2-digit",month:"short",year:"numeric"},r=new Date(t).toLocaleDateString("en-ID",e).replace(".","");n.value=r}}const g=/^([01]\d|2[0-3]):([0-5]\d)$/,f='<?xml version="1.0" encoding="UTF-8"?>\n<svg transform="translate(0 3)" width="12" height="12" stroke="currentColor" stroke-linecap="round" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path d="m12.339 12.142 0.01403-6.5322" fill="none" stroke-width="2"/>\n<path d="m8.4232 14.469 3.7103-1.9861" fill="none" stroke-width="2.4"/>\n<ellipse cx="12.004" cy="11.983" rx="10.102" ry="9.9964" fill="none" stroke-width="2.4"/>\n</svg>\n\n';class b extends n{constructor(e){super(e),function(e,t){const n=e.Nodes.Container,r=e.Nodes.LastValue,a=e.Nodes.Input,i=document.createElement("div"),s=document.createElement("input"),o=document.createElement("button"),d=document.querySelector(`label[for="${t}"]`);a.parentNode.insertBefore(n,a),i.appendChild(s),i.appendChild(o),o.appendChild(a),n.appendChild(i),n.appendChild(r),e.Nodes.InputWrapper=i,e.Nodes.Label=d,e.Nodes.Display=s,e.Nodes.Button=o,n.setAttribute("fgta5-component","Timepicker"),i.classList.add("fgta5-entry-input-wrapper"),s.setAttribute("id",`${t}-display`),s.setAttribute("type","text"),s.setAttribute("picker","time"),s.setAttribute("fgta5-component","Timepicker"),s.setAttribute("readonly","true"),s.classList.add("fgta5-entry-display"),s.classList.add("fgta5-entry-display-datepicker");var l=a.getAttribute("placeholder");null!=l&&""!=l&&s.setAttribute("placeholder",l);var u=a.getAttribute("class");null!=u&&""!=u&&s.setAttribute("class",u);var c=a.getAttribute("style");null!=c&&""!=c&&s.setAttribute("style",c);a.setAttribute("type","time"),a.setAttribute("picker","time"),a.removeAttribute("class"),a.removeAttribute("style"),a.classList.add("fgta5-entry-input"),a.classList.add("fgta5-entry-input-datepicker"),a.getInputCaption=()=>d.innerHTML,o.id=e.Id+"-button",o.insertAdjacentHTML("beforeend",f),o.classList.add("fgta5-entry-button-datepicker"),d.setAttribute("for",o.id),d.classList.add("fgta5-entry-label");var p=a.getAttribute("required");null!=p&&e.MarkAsRequired(!0);null!=a.value&&""!=a.value||(a.value="00:00");e.Value=a.value,e._setLastValue(a.value),e.AcceptChanges(),e._setupDescription(),a.addEventListener("change",(t=>{!function(e){var t=e.Nodes.Input;E(e,t.value),A(e),e.InEditMode&&(e.SetError(null),e.Validate())}(e)}))}(this,e)}get Min(){return this.Element.min}set Min(e){this.Element.min=e}get Max(){return this.Element.max}set Max(e){this.Element.max=e}get Value(){return""==(e=this.Nodes.Input).value?null:e.value;var e}set Value(e){!function(e,t){if(!g.test(t))throw new Error(`invalid HH:ss format for '${t}'`);e.Nodes.Input.value=t,E(e,t),A(e)}(this,e)}get Disabled(){return this.Element.disabled}set Disabled(e){this.Element.disabled=e,function(e,t){var n=e.Nodes.Display,r=e.Nodes.InputWrapper,a=e.Nodes.Button;t?(n.disabled=!0,r.setAttribute("disabled","true"),a.setAttribute("disabled","true")):(n.disabled=!1,r.removeAttribute("disabled"),a.removeAttribute("disabled"))}(this,e)}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e,function(e,t){var n=t?"true":"false",r=e.Nodes.Input,a=e.Nodes.Display,i=e.Nodes.InputWrapper;a.setAttribute("editmode",n),r.setAttribute("editmode",n),i.setAttribute("editmode",n),t?r.removeAttribute("readonly"):(r.setAttribute("readonly","true"),e.SetError(null))}(this,e)}NewData(e){""!=e&&null!=e||(e="00:00"),super.NewData(e)}AcceptChanges(){super.AcceptChanges(),this.Nodes.Display.removeAttribute("changed")}Reset(){var e,t;super.Reset(),t=(e=this).GetLastValue(),e.Value=null==t?"":t}SetError(e){super.SetError(e),function(e,t){var n=e.Nodes.Display;null!==t&&""!==t?n.setAttribute("invalid","true"):n.removeAttribute("invalid")}(this,e)}GetLastValue(){return""==(e=this.Nodes.LastValue.value)?null:e;var e}}function A(e){var t=e.Nodes.Display;e.Value!=e.GetLastValue()?t.setAttribute("changed","true"):t.removeAttribute("changed")}function E(e,t){e.Nodes.Display.value=t}const w=e=>new CustomEvent("selecting",e),y='<?xml version="1.0" encoding="UTF-8"?>\n<svg transform="translate(0 3)" width="12" height="12" stroke-linecap="round" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path transform="matrix(.8169 0 0 -.64538 10.987 14.119)" d="m11.299 11.275h-10.157l-10.157-1e-6 10.157-17.593 5.0786 8.7965z"/>\n</svg>\n',L='<?xml version="1.0" encoding="UTF-8"?>\n<svg transform="translate(0 3)" width="12" height="12" stroke="currentColor" stroke-linecap="round" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path d="m3.5642 20.295 16.853-16.833" fill="none" stroke-width="4"/>\n<path d="m3.5741 3.4523 16.833 16.853" fill="none" stroke-width="4"/>\n</svg>',N="editmode",C="showed",I="removing",x="selected",k="data-index";class M extends n{constructor(e){super(e),function(e,t){const n=e.Nodes.Container,r=e.Nodes.LastValue,a=e.Nodes.Input,i=document.createElement("div"),s=document.createElement("input"),o=document.createElement("button"),d=document.querySelector(`label[for="${t}"]`),l=a.parentNode.querySelector(`datalist[for="${t}"]`),u=document.createElement("dialog"),c=document.createElement("input");a.parentNode.insertBefore(n,a),i.appendChild(a),i.appendChild(s),i.appendChild(o),n.appendChild(i),n.appendChild(r),n.appendChild(c),n.appendChild(u),e.Nodes.InputWrapper=i,e.Nodes.Label=d,e.Nodes.Display=s,e.Nodes.Button=o,e.Nodes.Dialog=u,e.Nodes.LastText=c,n.setAttribute("fgta5-component","Combobox"),i.classList.add("fgta5-entry-input-wrapper"),a.classList.add("fgta5-entry-input"),a.setAttribute("type","hidden"),a.getInputCaption=()=>d.innerHTML,s.id=e.Id+"-display",s.classList.add("fgta5-entry-display"),s.setAttribute("style",a.getAttribute("style")||""),s.setAttribute("type","text"),s.setAttribute("readonly","true"),s.setAttribute("fgta5-component","Combobox"),s.setAttribute("placeholder",a.getAttribute("placeholder")),s.required=a.required,o.classList.add("fgta5-entry-button-combobox"),o.innerHTML=y,o.addEventListener("click",(t=>{!function(e){const t=e.Nodes.Dialog;var n=e.Nodes.Button.getAttribute(N);if("true"!==n)return;if(e.HasStaticOption)e.Listener.dispatchEvent(w({detail:{sender:e,dialog:t,searchtext:"",limit:0,offset:0,addRow:(t,n,r)=>{var a=D(e,t,n,r);tbody.appendChild(a)}}}));else{O(e,null,30,0),setTimeout((()=>{var e=t.querySelector(".fgta5-combobox-dialog-filter input");null!=e&&e.focus()}),100)}setTimeout((()=>{e.IsWaiting()&&(t.mask=$fgta5.Modal.Mask())}),1e3),t.showModal(),t.setAttribute(C,"true");var r=t.querySelector(".fgta5-combobox-dialog-head > button");null==r.onclick&&(r.onclick=n=>{t.setAttribute(I,"true"),setTimeout((()=>{t.close(),t.removeAttribute(I),t.removeAttribute(C),B(e)}),200)})}(e)})),c.setAttribute("type","hidden"),d.setAttribute("for",s.id),d.classList.add("fgta5-entry-label");var p=a.getAttribute("required");null!=p&&e.MarkAsRequired(!0);if(function(e,t){t.classList.add("fgta5-combobox-dialog");var n=document.createElement("div");n.classList.add("fgta5-combobox-dialog-head"),n.innerHTML=e.Nodes.Input.getInputCaption(),t.appendChild(n);var r=document.createElement("button");r.innerHTML=L,n.appendChild(r);var a=document.createElement("div"),i=document.createElement("input"),s=document.createElement("button"),o=document.createElement("a");i.setAttribute("placeholder","Search"),i.setAttribute("maxlength",30),i.addEventListener("keypress",(e=>{"Enter"===e.key&&s.click()})),s.innerHTML="Submit",s.addEventListener("click",(t=>{var n=i.value,r=30,a=0;o.searchtext=n,H(e),O(e,n,r,a)})),a.classList.add("fgta5-combobox-dialog-filter"),a.appendChild(i),a.appendChild(s),t.appendChild(a);var d=document.createElement("table"),l=document.createElement("thead"),u=document.createElement("tbody"),c=document.createElement("tfoot");t.appendChild(d),d.appendChild(u),d.appendChild(c),d.appendChild(l),o.classList.add("fgta5-combobox-dialog-nextbutton"),o.innerHTML="next data",o.style.display="none",o.setAttribute("href","javascript:void(0)"),o.addEventListener("click",(t=>{var n=o.searchtext,r=o.limit,a=o.nextoffset;O(e,n,r,a)})),t.appendChild(o),t.SetNext=(e,t)=>{o.nextoffset=e,o.limit=t,o.style.display=null!=e&&0!=e?"inline-block":"none"}}(e,u),u.addEventListener("cancel",(t=>{u.setAttribute(I,"true"),t.preventDefault(),setTimeout((()=>{u.close(),u.removeAttribute(I),u.removeAttribute(C),B(e)}),200)})),u.addEventListener("close",(e=>{})),null!=l){l.remove();var m=function(e,t,n){const r=n.getElementsByTagName("option"),a=t.getElementsByTagName("thead")[0],i=t.getElementsByTagName("tbody")[0],s=t.getElementsByTagName("tfoot")[0];var o=null;if(a.style.display="none",s.style.display="none",!e.IsRequired()){(l=D(e,"","none",{})).setAttribute("data-none",""),l.setAttribute(k,0),i.appendChild(l)}var d=0;for(let t of r){d++;let n=t.textContent||t.innerText,r=null==t.value||""==t.value?n:t.value;null!=t.getAttribute("default")&&(o={value:r,text:n});var l,u=i.rows.length-1;(l=D(e,r,n,{option:t})).setAttribute(k,u),i.appendChild(l)}return{count:d,default:o}}(e,u,l);null!=m.default&&(a.value=def.value,s.value=def.text),m.count>0&&(e.HasStaticOption=!0)}else a.value="",s.value="";e._read,e._setupDescription(),e._setLastValue(a.value,s.value)}(this,e)}get Value(){return""==(e=this.Nodes.Input).value?null:e.value;var e}set Value(e){throw Error("Value is readonly")}get Text(){return this.Nodes.Display.value}set Text(e){throw Error("Text is readonly")}get Disabled(){return this.Element.disabled}set Disabled(e){this.Element.disabled=e,function(e,t){t?(e.Nodes.Display.disabled=!0,e.Nodes.Button.disabled=!0):(e.Nodes.Display.disabled=!1,e.Nodes.Button.disabled=!1)}(this,e)}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e,function(e,t){var n=t?"true":"false";e.Nodes.Display.setAttribute(N,n),e.Nodes.Input.setAttribute(N,n),e.Nodes.InputWrapper.setAttribute(N,n),e.Nodes.Button.setAttribute(N,n),t?e.Nodes.Input.removeAttribute("readonly"):(e.Nodes.Input.setAttribute("readonly","true"),e.SetError(null))}(this,e)}NewData(e){!function(e,t){var n=e.Nodes.Input,r=e.Nodes.Display;void 0===t?(n.value="",r.value=""):"string"==typeof t?(n.value=t,r.value=t):null!=t?(n.value=t.value,r.value=t.text):(n.value="",n.value="");e.Nodes.Display.removeAttribute("changed"),e.SetError(null),e.AcceptChanges()}(this,e)}AcceptChanges(){var e;super.AcceptChanges(),(e=this).Nodes.Display.removeAttribute("changed"),e._setLastValue(e.Value,e.Text)}Reset(){var e;super.Reset(),(e=this).Value=e.GetLastValue(),e.Text=e.GetLastText(),e.Nodes.Display.removeAttribute("changed")}_setLastValue(e,t){super._setLastValue(e),function(e,t,n){e.Nodes.LastValue.value=t,e.Nodes.LastText.value=n}(this,e,t)}GetLastValue(){return""==(e=this.Nodes.LastValue.value)?null:e;var e}GetLastText(){return function(){return this.Nodes.LastText.value}()}SetSelected(e,t){null==t&&(t=e),function(e,t,n){e.Nodes.Input.value=t,e.Nodes.Display.value=n,S(e)}(this,e,t)}AddOptions(e){_(this,e)}SetOptions(e){!function(e,t){const n=e.Nodes.Dialog.getElementsByTagName("tbody")[0];V(e,n),e.IsRequired();_(e,t,n)}(this,e)}#s=!1;IsWaiting(){return this.#s}Wait(e){this.#s=void 0===e||e,function(e,t){const n=e.Nodes.Dialog;var r=n.getElementsByTagName("tbody")[0];if(t=void 0===t||t,t){var a=document.createElement("tr"),i=document.createElement("td");a.setAttribute("data-waiting",""),i.innerHTML="fetching data from server ...",a.appendChild(i),r.appendChild(a)}else{var s=r.querySelector("[data-waiting]");null!=s&&s.remove(),null!=n.mask&&(n.mask.close(),delete n.mask)}}(this,e)}AbortHandler=null;HasStaticOption=null}function T(e,t){t.setAttribute(x,""),setTimeout((()=>{if(""==t.getAttribute("data-none"));else{const n=e.Nodes.Dialog.getElementsByTagName("tbody")[0].querySelector("tr[data-none]");null!=n&&n.after(t)}}),100)}function D(e,t,n,r){let a=document.createElement("tr");var i=document.createElement("td");a.classList.add("fgta-combobox-option-row"),a.setAttribute("value",t),i.setAttribute("option",""),i.setAttribute("value",t),i.innerHTML=n,i.addEventListener("click",(i=>{!0!==e.pauseClickEvent&&(e.pauseClickEvent=!0,setTimeout((()=>{e.pauseClickEvent=!1}),500),H(e),T(e,a),e.Nodes.Input.value=t,e.Nodes.Display.value=n,function(e,t,n,r){e.Listener.dispatchEvent((e=>new CustomEvent("change",e))({sender:e,detail:{value:t,text:n,data:r,sender:e}})),S(e),e.Nodes.Dialog.removeAttribute(C),setTimeout((()=>{e.Nodes.Dialog.close(),B(e)}),200)}(e,t,n,r))})),a.appendChild(i),e.Listener.dispatchEvent((e=>new CustomEvent("optionformatting",e))({detail:{value:t,text:n,tr:a,data:r}}));var s=e.Value??"";return t==s&&T(e,a),a}function S(e){var t=e.Nodes.Display;e.Value!=e.GetLastValue()?t.setAttribute("changed","true"):t.removeAttribute("changed")}function V(e,t){const n=e.Nodes.Dialog;null!=t&&null!=t||(t=n.getElementsByTagName("tbody")[0]),t.replaceChildren()}function _(e,t,n){if(null==t||null==t)return;const r=e.Nodes.Dialog;null!=n&&null!=n||(n=r.getElementsByTagName("tbody")[0]);for(let r of t)n.appendChild(D(e,r.value,r.text,t))}function B(e){"function"==typeof e.AbortHandler&&e.AbortHandler()}function O(e,t,n,r){const a=e.Nodes.Dialog,i=a.getElementsByTagName("tbody")[0];var s=!0;0==r&&(null!=a.querySelector(`table tr[${x}]`)?s=!1:(s=!0,V(e,i),a.SetNext(null)));s&&((()=>{var t=i.querySelector("tr[data-none]");if(e.IsRequired())t.remove();else if(null==t){var n=D(e,"","none",{});n.setAttribute("data-none",""),n.setAttribute(k,0),i.prepend(n)}})(),e.Listener.dispatchEvent(w({detail:{sender:e,dialog:a,searchtext:t,limit:n,offset:r,addRow:(t,n,r)=>{var a=i.rows.length-1,s=D(e,t,n,r);s.setAttribute(k,a),i.appendChild(s)}}})))}function H(e){const t=e.Nodes.Dialog.querySelector(`table tr[${x}]`);if(null!=t){const e=t.getAttribute(k);if(""!=e&&null!=e){const i=Number(e),s=t.closest("tbody").querySelectorAll("tr");for(var n of s){var r=n.getAttribute(k)??0,a=Number(r);if(0!=a&&(a!=i&&i<a)){n.insertAdjacentElement("beforebegin",t);break}}}t.removeAttribute(x)}}const q='<?xml version="1.0" encoding="UTF-8"?>\n<svg transform="translate(0 3)" width="12" height="12" stroke="currentColor" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path d="m3.0207 17.447v3.9708h18.328v-3.9708" fill="none" stroke-linecap="square" stroke-width="4"/>\n<path d="m18.595 8.3606-6.4542-4.0017-6.3622 4.0017m6.3622-1.8991v7.1708" fill="none" stroke-linecap="square" stroke-width="4"/>\n</svg>\n';class $ extends n{constructor(e){super(e),function(e,t){const n=e.Nodes.Container,r=e.Nodes.LastValue,a=e.Nodes.Input,i=document.createElement("div"),s=document.createElement("input"),o=document.createElement("button"),d=document.querySelector(`label[for="${t}"]`);a.parentNode.insertBefore(n,a),i.appendChild(s),i.appendChild(o),o.appendChild(a),n.appendChild(i),n.appendChild(r),e.Nodes.InputWrapper=i,e.Nodes.Label=d,e.Nodes.Display=s,e.Nodes.Button=o,n.setAttribute("fgta5-component","Filebox"),i.classList.add("fgta5-entry-input-wrapper"),s.setAttribute("id",`${t}-display`),s.setAttribute("type","text"),s.setAttribute("picker","file"),s.setAttribute("fgta5-component","Filebox"),s.setAttribute("readonly","true"),s.classList.add("fgta5-entry-display"),s.classList.add("fgta5-entry-display-filebox");var l=a.getAttribute("placeholder");null!=l&&""!=l&&s.setAttribute("placeholder",l);var u=a.getAttribute("class");null!=u&&""!=u&&s.setAttribute("class",u);var c=a.getAttribute("style");null!=c&&""!=c&&s.setAttribute("style",c);a.setAttribute("type","file"),a.setAttribute("picker","file"),a.removeAttribute("class"),a.removeAttribute("style"),a.classList.add("fgta5-entry-input"),a.classList.add("fgta5-entry-input-filebox"),a.getInputCaption=()=>d.innerHTML,o.id=e.Id+"-button",o.insertAdjacentHTML("beforeend",q),o.classList.add("fgta5-entry-button-filebox"),d.setAttribute("for",o.id),d.classList.add("fgta5-entry-label");var p=a.getAttribute("required");null!=p&&e.MarkAsRequired(!0);e._setLastValue(a.value),e.AcceptChanges(),e._setupDescription(),a.addEventListener("change",(t=>{!function(e){var t=e.Nodes.Input;if(0===t.files.length)return;e.Nodes.Display.value=t.files[0].name,function(e){var t=e.Nodes.Display;e.Value!=e.GetLastValue()?t.setAttribute("changed","true"):t.removeAttribute("changed")}(e),e.InEditMode&&(e.SetError(null),e.Validate())}(e)}))}(this,e)}get Value(){return 0===this.Element.files.length?"":this.Element.files[0].name}get Disabled(){return this.Element.disabled}set Disabled(e){this.Element.disabled=e,function(e,t){var n=e.Nodes.Display,r=e.Nodes.Button;t?(n.disabled=!0,r.disabled=!0):(n.disabled=!1,r.disabled=!1)}(this,e)}#t=!0;get InEditMode(){return this.#t}SetEditingMode(e){this.#t=e,function(e,t){var n=e.Nodes.Display,r=e.Nodes.Input,a=t?"true":"false";n.setAttribute("editmode",a),r.setAttribute("editmode",a),e.Nodes.InputWrapper.setAttribute("editmode",a),t?r.disabled=!1:(r.disabled=!0,e.SetError(null))}(this,e)}NewData(){var e;(e=this).Nodes.Input.value="",e.Nodes.Display.value="",e.AcceptChanges()}AcceptChanges(){!function(e){var t=e.Nodes.Display,n=e.Nodes.Input,r="";n.files.length>0&&(r=n.files[0].name);e._setLastValue(r),n.removeAttribute("changed"),t.removeAttribute("changed"),e.SetError(null)}(this)}Reset(){!function(e){e.Nodes.Input.value="";var t=e.GetLastValue();e.Nodes.Display.value=t,e.AcceptChanges()}(this)}IsChanged(){return t=(e=this).Nodes.LastValue.value,e.Value!=t;var e,t}SetError(e){super.SetError(e),function(e,t){var n=e.Nodes.Display;null!==t&&""!==t?n.setAttribute("invalid","true"):n.removeAttribute("invalid")}(this,e)}}const F=new CustomEvent("locked"),R=new CustomEvent("unlocked");function G(e,t){var n=e.Element,r=!t;for(var a in e.Inputs){e.Inputs[a].SetEditingMode(r)}return t?(n.dispatchEvent(F),n.setAttribute("locked",t)):(n.dispatchEvent(R),n.removeAttribute("locked")),t}const P={info:"fgta5-icon-info",warning:"fgta5-icon-warning",error:"fgta5-icon-error",question:"fgta5-icon-question"};class U{Text="button";constructor(e){this.Text=e}}class W{static ButtonOkCancel=Object.freeze({ok:new U("Ok"),cancel:new U("Cancel")});static ButtonYesNo=Object.freeze({yes:new U("Yes"),no:new U("No")});static ButtonYesNoCancel=Object.freeze({yes:new U("Yes"),no:new U("No"),cancel:new U("Cancel")});static async Show(e,t){return await z(e,t)}static async Error(e){return await async function(e){return await z(e,{iconcss:"error"})}(e)}static async Info(e){return await async function(e){return await z(e,{iconcss:"info"})}(e)}static async Warning(e){return await async function(e){return await z(e,{iconcss:"warning"})}(e)}static async Confirm(e,t){return await async function(e,t){return t=void 0===t?W.ButtonOkCancel:t,await z(e,{iconcss:"question",buttons:t})}(e,t)}}async function z(e,t){void 0===t&&(t={});var n=function(e,t){const n=document.createElement("dialog");if(n.classList.add("fgta5-messagebox-dialog"),n.addEventListener("close",(e=>{n.parentNode.removeChild(n)})),t.title&&(n.divTitle=document.createElement("div"),n.divTitle.classList.add("fgta5-messagebox-title"),n.divTitle.innerHTML=t.title,n.appendChild(n.divTitle)),t.iconcss){var r=P[t.iconcss]?P[t.iconcss]:t.iconcss;n.divIcon=document.createElement("div"),n.divIcon.classList.add("fgta5-messagebox-icon"),n.divIcon.classList.add(r),n.appendChild(n.divIcon)}return n.divContent=document.createElement("div"),n.divContent.classList.add("fgta5-messagebox-content"),n.divContent.innerHTML=e,n.appendChild(n.divContent),n.divButtons=document.createElement("div"),n.divButtons.classList.add("fgta5-messagebox-buttonsbar"),n.appendChild(n.divButtons),document.body.appendChild(n),n}(e,t);return new Promise((e=>{if(t.buttons)for(const[r,a]of Object.entries(t.buttons)){const t=document.createElement("button");t.classList.add("fgta5-messagebox-button"),t.innerHTML=a.Text,t.addEventListener("click",(()=>{n.close(),e(r)})),n.divButtons.appendChild(t)}else{const t=document.createElement("button");t.classList.add("fgta5-messagebox-button"),t.innerHTML="Ok",t.addEventListener("click",(()=>{n.close(),e("ok")})),n.divButtons.appendChild(t)}n.showModal()}))}function j(){const e=document.createElement("dialog");return e.classList.add("fgta5-modal-message"),e.addEventListener("close",(t=>{e.parentNode.removeChild(e)})),document.body.appendChild(e),e.showModal(),e}const K="rowselector",Y="autonumber",Z="binding",J="sorting",Q="formatter",X="text-align",ee="data-selected",te="data-name",ne="key",re="data-rowprocessing",ae="data-mainrowhead",ie="linenumber",se="rowselector",oe="autonumber",de="standard",le='<?xml version="1.0" encoding="UTF-8"?>\n<svg version="1.1" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">\n<path d="m2.1656 5.2663 3.8057-4.6994 3.8057 4.6994z" fill="currentColor"/>\n<path d="m2.1656 6.6955 3.8057 4.6994 3.8057-4.6994z" fill="currentColor"/>\n</svg>',ue='<svg width="1rem" height="1rem" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">\n<circle cx="15" cy="15" r="12" stroke="currentColor" stroke-width="1" fill="none" />\n<circle cx="15" cy="15" r="8" fill="currentColor" />\n</svg>',ce='<svg width="1rem" height="1rem" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">\n<circle cx="15" cy="15" r="12" stroke="currentColor" stroke-width="1" fill="none" />\n</svg>',pe=e=>new CustomEvent("rowremoving",e);function me(e,t,n){null!=n&&e.setAttribute(t,n)}function ve(){var e=document.createElement("label"),t=document.createElement("input"),n=document.createElement("span");return e.classList.add("fgta5-gridview-checkbox"),e.appendChild(t),e.appendChild(n),e.checkbox=t,t.setAttribute("type","checkbox"),n.classList.add("fgta5-gridview-checkmark"),e}function he(e,t){var n=t.target,r=e.Nodes.Tbody.querySelectorAll("tr");for(var a of r){a.querySelector(`td[${K}] input[type="checkbox"]`).checked=n.checked,n.checked?a.setAttribute(ee,""):a.removeAttribute(ee)}}function ge(e,t){var n=t.target,r=n.closest("tr");n.checked?r.setAttribute(ee,""):(r.removeAttribute(ee),e.Nodes.Thead.querySelector(`tr th[${K}] input[type="checkbox"]`).checked=!1)}function fe(e,t){var n=e.Nodes.Tbody;for(var r of t)be(e,r,n)}function be(e,t,n){void 0===n&&(n=e.Nodes.Tbody);var r=document.createElement("tr");r.classList.add("fgta5-gridview-row");var a=e.Key;if(null!=a){var i=t[a];null!=i&&(r.setAttribute(ne,a),r.setAttribute("keyvalue",i))}for(var s of e.Columns){let n=document.createElement("td");if(me(n,"class",s.cssclass),me(n,te,s.name),me(n,Z,s.binding),me(n,Q,s.formatter),me(n,X,s.textalign),n.classList.add("fgta5-gridview-cell"),s.type==se){var o=ve();o.addEventListener("change",(t=>{ge(e,t)})),n.appendChild(o),n.setAttribute(K,"")}else if(s.type==oe){var d=ye(e);d++,n.setAttribute(Y,""),n.setAttribute(ie,d),n.innerHTML=d,n.addEventListener("click",(t=>{Ae(e,n,r)}))}else{var l=t[s.binding];if(n.setAttribute("data-value",l),null!=l){if(null!=s.formatter)try{l=Le(s.formatter)(l)}catch(e){}n.innerHTML=l}else n.innerHTML="";n.addEventListener("click",(t=>{Ae(e,n,r)}))}r.appendChild(n)}!function(e,t){e.Listener.dispatchEvent((n={detail:{tr:t}},new CustomEvent("rowrender",n)));var n}(e,r),n.appendChild(r)}function Ae(e,t,n){e.Listener.dispatchEvent(new CustomEvent("cellclick",{detail:{tr:n,td:t}}))}function Ee(e,t){var n=t.getAttribute(J),r=t.getAttribute(Z),a=t.closest("th");a.setAttribute(Z,r),null==n||""==n?(a.setAttribute(J,"asc"),t.setAttribute(J,"asc"),t.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg version="1.1" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">\n<path d="m2.1943 9.1198 3.8057-6.5338 3.8057 6.5338z" fill="currentColor"/>\n</svg>'):"asc"==n?(a.setAttribute(J,"desc"),t.setAttribute(J,"desc"),t.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg version="1.1" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">\n<path d="m2.1943 2.586 3.8057 6.5338 3.8057-6.5338z" fill="currentColor"/>\n</svg>\n'):(a.removeAttribute(J),t.setAttribute(J,""),t.innerHTML=le);var i=we(e,t.closest("tr"));e.Listener.dispatchEvent(new CustomEvent("sorting",{detail:{sort:i}}))}function we(e,t){null==t&&(t=e.Nodes.Thead.querySelector(`tr[${ae}]`));var n=t.querySelectorAll(`th[${J}]`),r={};for(var a of n){var i=a.getAttribute(J);r[a.getAttribute(Z)]=i}return r}function ye(e){var t=e.Nodes.Tbody.querySelector("tr:last-child td[autonumber]");if(null==t)return 0;var n=t.getAttribute(ie);return null==n?0:Number(n)}function Le(e){const t=e.match(/(\w+)\(([^)]+)\)/);if(!t)return null;const[,n,r]=t,a=r.split(",").map((e=>parseFloat(e.trim())));return"decimal"===n?e=>{return t=e,n=a[1],new Intl.NumberFormat("en-US",{minimumFractionDigits:n,maximumFractionDigits:n}).format(t);var t,n}:"checkmark"===n?e=>function(e){const t=ue,n=ce;if(null==e)return n;if(!1===e)return n;if("0"==e||""==e||"-"==e||0==e)return n;return t}(e):null}const Ne="showed",Ce="data-module",Ie="data-favourite",xe="data-openedmodule",ke="data-currentuser",Me="data-iconcontainer",Te="data-iconimage",De="data-icontext",Se="data-gridarea",Ve="data-icon",_e="data-title",Be="data-info",Oe="data-buttonclose",He="fgta5-button-menu",qe="fgta5-button-shorcutclose",$e="Favourite Programs",Fe="Opened Programs",Re=e=>new CustomEvent("action",e);function Ge(e,t,n){return e.CreateSvgButton(t,"fgta5-button-head",n)}function Pe(e){e.Nodes.Nav.setAttribute(Ne,"")}function Ue(e){We(e),e.Nodes.IFrames.classList.add("hidden")}function We(e){e.Nodes.Nav.removeAttribute(Ne)}function ze(e,t,n){t.classList.remove("hidden"),e.Listener.dispatchEvent(Re({detail:{name:"moduleopened",modulename:n.name,title:n.title,iframe:t}})),et(e,t,n)}async function je(e,n){const r=e.Nodes.IFrames,a=n.name,i=`iframe[${Ce}="${a}"]`;if(null==r.querySelector(i)){const i=$fgta5.Modal.Mask("Please wait...");var s=n.url??"demo-application";let o=document.createElement("iframe");o.classList.add("fgta5-iframe"),o.classList.add("hidden"),o.setAttribute(Ce,a),o.onload=r=>{!function(e,n,r){n.contentWindow.postMessage({action:t.ACTION_APPLICATIONLOADED,module:{title:r.title,name:r.name}},"*"),e.Listener.dispatchEvent(Re({detail:{name:"moduleloaded",modulename:r.name,title:r.title,iframe:n}})),e.Listener.dispatchEvent(Re({detail:{name:"moduleopened",modulename:r.name,title:r.title,iframe:n}})),et(e,n,r)}(e,o,n),o.classList.remove("hidden"),i.close()},fetch(s).then((t=>{if(!t.ok)throw new Error(`HTTP Error: ${t.status}`);o.src=s,r.appendChild(o),e.Nodes.IFrames.classList.remove("hidden")})).catch((e=>{$fgta5.MessageBox.Error(e),i.close()}))}else{var o=r.querySelectorAll("iframe");for(var d of o){d.getAttribute(Ce)==a?ze(e,d,n):d.classList.add("hidden")}e.Nodes.IFrames.classList.remove("hidden")}}function Ke(e,t){const n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");return n.setAttribute(Me,""),t.disabled&&n.setAttribute("disabled",""),null!=t.icon&&(r.setAttribute(Te,""),r.style.backgroundImage=`url('${t.icon}')`),a.innerHTML=t.title,a.setAttribute(De,""),n.appendChild(r),n.appendChild(a),r.addEventListener("click",(()=>{e.OpenModule(t),r.style.animation="iconClicked 0.2s forwards",setTimeout((()=>{r.style.animation="unset",We(e)}),300)})),n}function Ye(e,t){const n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");return n.setAttribute(Me,""),t.disabled&&n.setAttribute("disabled",""),r.setAttribute(Te,""),null!=t.icon?r.style.backgroundImage=`url('${t.icon}')`:r.style.backgroundImage=`url('data:image/svg+xml,${encodeURIComponent('<svg width="32" height="32" version="1.1" viewBox="0 0 8.4667 8.4667" xmlns="http://www.w3.org/2000/svg"><rect x=".4961" y="3.9307" width="7.5035" height="4.0689"/><path d="m0.4961 3.2521h7.5035l1e-7 -0.71184h-4.2386l-0.87664-1.3525h-2.3883z"/><rect x="5.8727" y="5.303" width="1.2058" height="1.1077" fill="#fff"/></svg>')}')`,a.innerHTML=t.title,a.setAttribute(De,""),n.appendChild(r),n.appendChild(a),r.addEventListener("click",(()=>{r.style.animation="iconClicked 0.4s forwards",setTimeout((()=>{r.style.animation="unset"}),400),setTimeout((()=>{Qe(e,t.icons,t.parent)}),200)})),n}function Ze(e){Qe(e,e.RootIcons)}function Je(e,t){let n=[];for(var r of t)if(r instanceof $fgta5.ModuleData){var a,i=Ke(e,r);n.push(i),a=null!=r.keyword?`${r.name} : ${r.keyword}`:r.name,e.Modules[r.name]={keyword:a,data:r}}else{var s=Je(e,r.items),o=Ye(e,{title:r.title,icon:r.icon,icons:s,parent:n});!1!==r.border&&o.classList.add("fgta5-icongroup"),n.push(o)}return n}function Qe(e,n,r){const a=e.Nodes.MenuBoard,i=e.Nodes.MenuResetButton;if(null!=r){if(!0!==n[0].isbackIcon){var s=Ye(e,{title:"",icon:`data:image/svg+xml,${encodeURIComponent(t.ICON_BACK)}`,icons:r,parent:r.parent});s.isbackIcon=!0,n.unshift(s)}i.classList.remove("hidden")}else i.classList.add("hidden");a.style.animation="fadeOutLeft 0.05s forwards",setTimeout((()=>{for(var e of(a.innerHTML="",a.style.animation="fadeInRight 0.3s forwards",n))a.appendChild(e)}),50)}async function Xe(e,n){if(""==n.trim()){if(void 0===e.previousSearch)return void(e.previousSearch="");if(n==e.previousSearch)return;return e.previousSearch="",void Ze(e)}e.previousSearch=n;const r=e.Nodes.MenuBoard,a=e.Modules;r.innerHTML="";var i=0;for(var s in a)if(s.toLowerCase().includes(n)){i++;var o=a[s];if(null!=o){var d=Ke(e,o.data);d.style.animation="dropped 0.3s forwards",r.appendChild(d),i<10&&await t.Sleep(100)}}}function et(e,n,r){const a=e.Nodes.Opened,i=`fgta5-sch-mod--${r.name}`,s=document.getElementById(i);if(null==s){const s=function(e,n,r,a){const i=e.Nodes.Opened,s=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),u=document.createElement("a");s.id=a,s.classList.add("fgta5-openedmodule-shortcut"),s.appendChild(o),s.appendChild(d),s.appendChild(l),s.appendChild(u),s.addEventListener("click",(t=>{je(e,n)})),o.setAttribute(Ve,""),o.innerHTML="&nbsp;",null!=n.icon&&(o.style.backgroundImage=`url('${n.icon}')`);d.setAttribute(_e,""),d.innerHTML=n.title,l.setAttribute(Be,""),l.innerHTML="idle";var c=e.CreateSvgButton(t.ICON_CLOSE,qe,(e=>{e.stopPropagation(),r.remove(),s.remove(),0==i.childNodes.length&&i.hide()}));return u.setAttribute(Oe,""),u.appendChild(c),s}(e,r,n,i);a.prepend(s)}else a.prepend(s);a.show()}const tt="fgta5-button-head",nt="application-title",rt="data-withfooter";function at(e,t){var n=new Date(e);return{dt:new Date(n.getFullYear(),n.getMonth(),n.getDate()),boundary:new Date(t.getFullYear(),t.getMonth(),t.getDate())}}var it=Object.freeze({__proto__:null,getInvalidMessage:function(e,t,n){var r=t.getAttribute(`invalid-message-${e}`);return null!=r&&""!==r||(r=n),r},parseFunctionParam:function(e){const[t,...n]=e.split(":"),r=n.length>0?n.join(":"):null;return{fnName:t,fnParams:null!==r?isNaN(r)?r:Number(r):null}},required:function(e){return null!=e&&""!==e},minlength:function(e,t){return null==t||0===t||!(null==e||e.length<t)},maxlength:function(e,t){return null==t||0===t||!(null==e||e.length>t)},pattern:function(e,t){return!0},email:function(e,t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)},min:function(e,t){return null==t||0===t||!(null==e||e<t)},max:function(e,t){return null==t||0===t||!(null==e||e>t)},mindate:function(e,t){var{dt:n,boundary:r}=at(e,t);return!(n<r)},maxdate:function(e,t){var{dt:n,boundary:r}=at(e,t);return!(n>r)},mintime:function(e,t){return!(e<t)},maxtime:function(e,t){return!(e>t)}});const st={Component:t,Form:class extends t{#o=!1;Inputs={};constructor(e){super(e),this.#d(),function(e,t){var n=document.getElementById(t);e.Id=t,e.Element=n,e.Inputs={},e.Element.setAttribute("novalidate",""),e.Element.addEventListener("submit",(e=>{e.preventDefault()}));for(var r=n.querySelectorAll("input"),a=0;a<r.length;a++){var i=r[a],o=i.getAttribute("fgta5-component");null!=o&&null!=i.id&&""!=i.id&&("Textbox"==o?e.Inputs[i.id]=new s(i.id):"Numberbox"==o?e.Inputs[i.id]=new l(i.id):"Datepicker"==o?e.Inputs[i.id]=new m(i.id):"Timepicker"==o?e.Inputs[i.id]=new b(i.id):"Combobox"==o?e.Inputs[i.id]=new M(i.id):"Checkbox"==o?e.Inputs[i.id]=new u(i.id):"Filebox"==o&&(e.Inputs[i.id]=new $(i.id)))}}(this,e)}Lock(e){this.#o=G(this,e)}IsLocked(){return this.#o}Reset(){!function(e){for(var t in e.Inputs){e.Inputs[t].Reset()}}(this)}AcceptChanges(){!function(e){for(var t in e.Inputs){e.Inputs[t].AcceptChanges()}}(this)}IsChanged(){return function(e){for(var t in e.Inputs){if(e.Inputs[t].IsChanged())return!0}return!1}(this)}NewData(e){!function(e,t){for(var n in t=null!=t?t:{},e.Inputs){var r=e.Inputs[n],a=t[r.GetBindingData()];if(r instanceof M){var i=null!=a?a:{value:"",text:""};r.NewData({value:i.value,text:i.text})}else r.NewData(a)}}(this,e)}Render(){!function(e){for(var t in e.Inputs){e.Inputs[t].bindForm(e)}e.IsLocked()?G(e,!0):G(e,!1)}(this)}Validate(){return function(e){var t=!0;for(var n in e.Inputs){var r=e.Inputs[n];t&&=r.Validate()}return t}(this)}GetData(){return function(e){var t={};for(var n in e.Inputs){var r=e.Inputs[n],a=r.GetBindingData();a&&(t[a]=r.Value)}return t}(this)}addEventListener(e,t){this.Element.addEventListener(e,t)}#d(){var e=this.Element.getAttribute("locked");null==e&&(e="false"),"true"===e.toLowerCase()?this.#o=!0:this.#o=!1}},Button:class extends t{constructor(e){var t;super(e),(t=this).Element.classList.add("fgta5-button"),t.Element.setAttribute("type","button")}#l=!1;get Disabled(){return this.#l}set Disabled(e){var t;this.#l=e,t=e,this.Element.disabled=t}addEventListener(e,t){this.Element.addEventListener(e,t)}click(){this.Element.click()}},Textbox:s,Numberbox:l,Checkbox:u,Datepicker:m,Timepicker:b,Combobox:M,Filebox:$,MessageBox:W,MessageBoxButton:U,Modal:class{static Show(e){return j()}static Mask(e){return function(e){e=void 0===e?"Please wait ...":e;const t=j();var n=document.createElement("div");n.classList.add("fgta5-modal-loadermask-msg"),t.appendChild(n);var r=document.createElement("div");r.classList.add("fgta5-modal-loadermask-msg-icon"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><radialGradient id="a11" cx=".66" fx=".66" cy=".3125" fy=".3125" gradientTransform="scale(1.5)"><stop offset="0" stop-color="#575757"></stop><stop offset=".3" stop-color="#575757" stop-opacity=".9"></stop><stop offset=".6" stop-color="#575757" stop-opacity=".6"></stop><stop offset=".8" stop-color="#575757" stop-opacity=".3"></stop><stop offset="1" stop-color="#575757" stop-opacity="0"></stop></radialGradient><circle transform-origin="center" fill="none" stroke="url(#a11)" stroke-width="30" stroke-linecap="round" stroke-dasharray="200 1000" stroke-dashoffset="0" cx="100" cy="100" r="70"><animateTransform type="rotate" attributeName="transform" calcMode="spline" dur="1.8" values="360;0" keyTimes="0;1" keySplines="0 0 1 1" repeatCount="indefinite"></animateTransform></circle><circle transform-origin="center" fill="none" opacity=".2" stroke="#575757" stroke-width="30" stroke-linecap="round" cx="100" cy="100" r="70"></circle></svg>',n.appendChild(r);var a=document.createElement("div");return a.classList.add("fgta5-modal-loadermask-msg-text"),a.innerHTML=e,n.appendChild(a),t.setText=e=>{a.innerHTML=e},t}(e)}static Progress(e){return function(e){void 0===e&&(e={});const t=j();t.IsError=!1;var n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.classList.add("fgta5-modal-progressbar-container"),t.appendChild(r);var a=document.createElement("label");a.classList.add("fgta5-modal-progressbar"),r.appendChild(a);var i=document.createElement("div");return i.classList.add("fgta5-modal-progressbar-text"),t.appendChild(i),t.setProgress=function(e,t){e>100&&(e=100),a.innerHTML=`${e}%`,a.style.width=`${e}%`,i.innerHTML=t},t.setError=function(e){t.IsError=!0,n.classList.add("fgta5-icon-error"),n.style.height="32px",n.style.marginBottom="10px",i.innerHTML=e,i.setAttribute("error","true"),a.setAttribute("error","true")},t.finish=function(n,r){if(void 0===n&&(n="Done"),void 0===r&&(r=!0),!0===e.buttonClose||t.IsError){r&&(i.style.display="none",a.style.width="100%",a.innerHTML="100%");var s=document.createElement("div");s.style.textAlign="center",s.style.marginTop="10px",s.style.marginBottom="0";var o=document.createElement("button");o.classList.add("fgta5-modal-button"),o.innerHTML=n,o.addEventListener("click",(()=>{t.close()})),s.appendChild(o),t.appendChild(s)}else t.close()},t}(e)}},Dataloader:class{#u;constructor(){this.#u=new AbortController}Abort(){this.#u.abort()}async Load(e,t,n){const r=this.#u.signal;null==t&&(t={});const a=Object.assign({signal:r},t);try{const t=await fetch(e,a),r=await t.json();"function"==typeof n&&n(null,r)}catch(e){"AbortError"===e.name||"function"==typeof n&&n(e,null)}}},Gridview:class extends t{constructor(e){super(e);var t=this.Element;if(null==t)throw new Error(`element id '${e}' for gridview is not defined`);if("table"!=t.tagName.toLowerCase())throw new Error(`element '${e}' is not table`);!function(e){var t=e.Element,n=t.querySelector("thead"),r=document.createElement("tbody"),a=document.createElement("tfoot");t.prepend(a),t.prepend(r),e.Listener=new EventTarget,e.Nodes={Table:t,Thead:n,Tbody:r,Tfoot:a},t.classList.add("fgta5-gridview"),t.setAttribute("cellspacing",0);const{headrow:i,columns:s,key:o}=function(e){var t=[],n=e.Nodes.Thead,r=n.querySelector("tr[data-header]"),a=r.querySelectorAll("th");for(var i of a){let e={};var s=i.getAttribute(K),o=i.getAttribute(Y),d=i.getAttribute(Z),l=i.getAttribute(te),u=i.getAttribute(Q),c=(i.getAttribute(X)??"").toLowerCase(),p="true"===(i.getAttribute(J)??"").toLowerCase(),m=i.getAttribute("class"),v=i.getAttribute("style"),h=i.innerHTML;e.type=null!=s?se:null!=o?oe:de,e.cssclass=m,e.cssstyle=v,e.binding=d,e.name=l,e.formatter=u,e.textalign=""==c?"left":c,e.sorting=p,e.html=h,t.push(e)}var g=r.getAttribute(ne);return{headrow:r,columns:t,key:g}}(e);e.setColumnData(s),e.setKey(o),i.remove(),function(e,t){var n=document.createElement("tr");n.setAttribute(ae,"");for(let o of t){var r=document.createElement("th");if(me(r,"class",o.cssclass),me(r,"style",o.cssstyle),me(r,te,o.name),r.classList.add("fgta5-gridview-head"),r.setAttribute(X,o.textalign),o.type==se){var a=ve();a.addEventListener("change",(t=>{he(e,t)})),r.appendChild(a),r.setAttribute(K,"")}else if(o.type==oe)r.setAttribute(Y,""),r.innerHTML=o.html;else if(o.sorting){var i=document.createElement("span");i.setAttribute("container",""),i.setAttribute(X,o.textalign);let t=document.createElement("button");t.innerHTML=le,t.setAttribute(J,""),t.setAttribute(Z,o.binding),t.addEventListener("click",(n=>{Ee(e,t)})),(s=document.createElement("div")).innerHTML=o.html,i.appendChild(t),i.appendChild(s),r.classList.add("fgta5-gridview-colwithbutton"),r.appendChild(i)}else{var s=document.createTextNode(o.html);r.appendChild(s)}n.appendChild(r)}e.Nodes.Thead.appendChild(n)}(e,s)}(this)}AddRow(e){fe(this,e)}AddRows(e){fe(this,e)}SetNext(e,t){}#c;get Columns(){return this.#c}setColumnData(e){this.#c=e}#p;get Key(){return this.#p}setKey(e){this.#p=e}RemoveSelected(e){!function(e,t){var n=e.Nodes.Tbody.querySelectorAll(`tr td[${K}] input[type="checkbox"]:checked`);if(0==n.length)return void("function"==typeof t&&t());for(var r of n){let n=r.closest("tr");n.MarkProcessing=e=>{!0===e||void 0===e?n.setAttribute(re,""):n.removeAttribute(re)};let a=pe({detail:{tr:n,onFinished:t}});n.MarkProcessing(),e.Listener.dispatchEvent(a),a.handled||(n.MarkProcessing(!1),n.remove())}}(this,e)}HasRowPendingProcess(){return this.Nodes.Tbody.querySelectorAll(`tr[${re}]`).length>0}addEventListener(e,t){this.Listener.addEventListener(e,t)}Clear(){this.Nodes.Tbody.innerHTML=""}SetNext(e,t){!function(e,t,n){var r=e.Nodes.Tfoot.querySelector("tr[data-nextoffset]");null!=r&&r.remove();if(null!=t){var a=document.createElement("tr"),i=document.createElement("td"),s=document.createElement("a");s.innerHTML="load next data",s.setAttribute("href","javascript:void(0)"),s.addEventListener("click",(r=>{var a;e.Listener.dispatchEvent((a={detail:{criteria:e.Criteria,nextoffset:t,limit:n}},new CustomEvent("nextdata",a)))}));var o=e.Nodes.Tbody.rows[0].cells.length;i.setAttribute("colspan",o),i.setAttribute("align","center"),i.setAttribute("data-nextoffset",""),i.appendChild(s),a.setAttribute("data-nextoffset",""),a.appendChild(i),e.Nodes.Tfoot.appendChild(a)}}(this,e,t)}GetSort(){return we(this)}#m={};get Criteria(){return this.#m}SetCriteria(e){this.#m=e}},AppManager:class extends t{constructor(e){var n;super(e),function(e){const n=e.Element,r=document.createElement("header"),a=document.createElement("div"),i=document.createElement("nav"),s=n.querySelector(`div[${Ie}]`),o=n.querySelector(`div[${ke}]`);n.after(r),r.after(a),a.after(i),r.classList.add("fgta5-app-head"),n.classList.add("fgta5-app-main"),i.classList.add("fgta5-appmanager-nav"),function(e,n){const r=document.createElement("span"),a=Ge(e,t.ICON_MENU,(()=>{Pe(e)}));r.innerHTML="header",n.appendChild(r),n.appendChild(a)}(e,r);const{Opened:d}=function(e,t){const n=t.querySelector(`div[${xe}]`),r=document.createElement("div");return n.classList.add("fgta5-openedmodule"),r.innerHTML=`${Fe}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`,r.classList.add("fgta5-appmanager-home-subtitle"),r.classList.add("hidden"),n.classList.add("hidden"),n.before(r),n.hide=()=>{r.classList.add("hidden"),n.classList.add("hidden")},n.show=()=>{r.classList.remove("hidden"),n.classList.remove("hidden")},{Opened:n}}(0,n),{MenuBoard:l,MenuFooter:u,ProfileButton:c,LogoutButton:p,MenuResetButton:m}=function(e,n){const r=document.createElement("div"),a=Ge(e,t.ICON_MENU,(()=>{Ze(e)})),i=document.createElement("div"),s=Ge(e,t.ICON_CLOSE,(()=>{We(e)})),o=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div"),c=document.createElement("div"),p=document.createElement("input"),m=document.createElement("button"),v=document.createElement("a"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div");f.appendChild(a),r.setAttribute("header",""),r.appendChild(f),r.appendChild(i),r.appendChild(s),i.innerHTML="Menu",g.classList.add("hidden"),g.classList.add("fgta5-menu-footer"),g.appendChild(v),o.setAttribute("main",""),o.appendChild(d),o.appendChild(h),o.appendChild(g),o.addEventListener("scroll",(()=>{o.scrollTop>10?r.classList.add("fgta5-fixheader-scrolled"):r.classList.remove("fgta5-fixheader-scrolled")})),d.classList.add("fgta5-menu-toppanel"),d.appendChild(l),d.appendChild(u),d.appendChild(c);const b=e.CreateSvgButton(t.ICON_HOME,He,(()=>{Ue(e)})),A=e.CreateSvgButton(t.ICON_SETTING,He,(()=>{!async function(e){e.Listener.dispatchEvent((t={detail:{user:e.User}},new CustomEvent("opensetting",t)));var t}(e)})),E=document.createElement("div");E.classList.add("fgta5-menu-search"),E.appendChild(p),E.appendChild(m),p.classList.add("fgta5-menu-search"),p.setAttribute("name","menusearch"),p.setAttribute("placeholder","search module"),p.addEventListener("keydown",(t=>{"Enter"==t.key&&Xe(e,p.value)})),m.classList.add("fgta5-menu-search"),m.innerHTML=t.ICON_SEARCH,m.addEventListener("click",(t=>{p.focus(),Xe(e,p.value)}));const w=e.CreateSvgButton(t.ICON_USER,He);return w.classList.add("hidden"),l.setAttribute(Se,"left"),l.appendChild(b),l.appendChild(A),u.setAttribute(Se,"center"),u.appendChild(E),c.setAttribute(Se,"right"),c.appendChild(w),h.classList.add("fgta5-menu"),v.innerHTML=`<div icon>${t.ICON_LOGOUT}</div><div>Sign Out</div>`,v.setAttribute("href","javascript:void(0)"),n.appendChild(o),n.appendChild(r),{MenuBoard:h,MenuFooter:g,ProfileButton:w,LogoutButton:v,MenuResetButton:a}}(e,i);e.Listener=new EventTarget,e.Nodes={Head:r,Nav:i,Main:n,IFrames:a,Favourite:s,Opened:d,Currentuser:o,MenuBoard:l,MenuFooter:u,ProfileButton:c,LogoutButton:p,MenuResetButton:m}}(this),n=this,window.addEventListener("message",(e=>{if(null!=e.data.action){var r=e.data.action;r==t.ACTION_SHOWMENU?Pe(n):r==t.ACTION_SHOWHOME?Ue(n):t.ACTION_APPLICATIONLOADED}})),window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",(function(e){e.preventDefault(),window.history.pushState(null,"",window.location.href)}))}RootIcons;#v={};get Modules(){return this.#v}SetMenu(e){!function(e,t){e.RootIcons=Je(e,t),Qe(e,e.RootIcons)}(this,e)}ShowMenu(){Pe(this)}SetFavourite(e){!function(e,t){if(null==e.Nodes.Favourite)return;const n=e.Nodes.Favourite,r=document.createElement("div");for(var a of(r.innerHTML=`${$e}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`,r.classList.add("fgta5-appmanager-home-subtitle"),n.before(r),n.classList.add("fgta5-menu"),t)){var i=e.Modules[a];if(null!=i){var s=Ke(e,i.data);n.appendChild(s)}}}(this,e)}OpenModule(e){je(this,e),We(this)}#h;get User(){return this.#h}SetUser(e){this.#h=e,function(e,t){const n=e.Nodes.ProfileButton,r=e.Nodes.LogoutButton;e.Nodes.MenuFooter.classList.remove("hidden"),n.classList.remove("hidden"),n.addEventListener("click",(t=>{!function(e){e.Listener.dispatchEvent((e=>new CustomEvent("openprofile",e))({detail:{user:e.User}}))}(e)})),r.addEventListener("click",(t=>{!async function(e){"ok"==await $fgta5.MessageBox.Confirm("are you sure to log out ?")&&e.Listener.dispatchEvent((e=>new CustomEvent("logout",e))({detail:{user:e.User}}))}(e)})),e.Nodes.Currentuser.innerHTML=t.displayname}(this,e)}addEventListener(e,t){this.Listener.addEventListener(e,t)}},Application:class extends t{constructor(e){super(e),function(e){const n=e.Element,r=document.createElement("header"),a=document.createElement("footer");n.after(r),r.after(a),r.classList.add("fgta5-app-head"),n.classList.add("fgta5-app-main"),a.classList.add("fgta5-app-footer"),a.classList.add("hidden"),function(e,n){const r=document.createElement("div"),a=document.createElement("span"),i=e.CreateSvgButton(t.ICON_MENU,tt,(()=>{window.parent.postMessage({action:t.ACTION_SHOWMENU},"*")})),s=e.CreateSvgButton(t.ICON_HOME,tt,(()=>{window.parent.postMessage({action:t.ACTION_SHOWHOME},"*")}));r.appendChild(s),a.id=nt,a.innerHTML="loading ...",n.appendChild(r),n.appendChild(a),n.appendChild(i)}(e,r),function(e,t){t.innerHTML="footer"}(0,a),e.Nodes={Head:r,Main:n,Footer:a},window.addEventListener("load",(e=>{window.parent.postMessage({action:t.ACTION_APPLICATIONLOADED},"*")})),window.addEventListener("message",(e=>{const n=e.data;null!=n.action&&(n.action==t.ACTION_APPLICATIONLOADED&&(document.title=n.module.title,document.getElementById(nt).innerHTML=n.module.title))}))}(this)}ShowFooter(e){!function(e,t){const n=e.Nodes.Main,r=e.Nodes.Footer;t?(n.setAttribute(rt,""),r.classList.remove("hidden")):(n.removeAttribute(rt),r.classList.add("hidden"))}(this,e)}},ModuleData:class{constructor(e){this.#g=e.name,this.#f=e.title,this.#b=e.disabled,this.#A=e.icon,this.#E=e.url}#g;get name(){return this.#g}#f;get title(){return this.#f}#b;get disabled(){return!0===this.#b}#A;get icon(){return null==this.#A?"images/iconprograms/www.png":this.#A}#E;get url(){return this.#E}}};void 0===window.$validators?window.$validators=it:Object.assign(window.$validators,it),void 0===window.$fgta5||null===window.$fgta5?window.$fgta5=st:Object.assign(window.$fgta5,st);
